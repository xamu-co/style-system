@use "../utils/module" as utils;

// Scroll area component
//
// @group Components
@mixin scroll {
	.#{utils.$layout__scroll} {
		box-sizing: border-box;

		@media (hover: hover) {
			&::-webkit-scrollbar {
				width: 0.5rem;
				height: 0.5rem;
			}

			&::-webkit-scrollbar-track {
				background-color: #eee;
				border-radius: 100px;
			}

			&::-webkit-scrollbar-thumb {
				border-radius: 100px;
				background-color: utils.color(dark, 0.3);
			}
		}

		&.#{utils.$prefix__default}--vertical {
			height: 100%;
			overflow-x: hidden;
			overflow-y: auto;
			> * {
				box-sizing: border-box;
				&:last-child {
					margin-bottom: 0.1rem;
				}
			}
		}

		&.#{utils.$prefix__default}--horizontal {
			// always only mode
			// @modifier
			&.#{utils.$prefix__default}--always {
				width: 100%;
				overflow-x: auto;
				overflow-y: hidden;

				> * {
					min-width: 100%;
					box-sizing: border-box;
					&:last-child {
						margin-bottom: 0.5rem;
					}
					// TODO: improve this, handle edge cases and text that are too  large
					tr {
						td,
						th {
							white-space: nowrap;
						}
					}
				}
			}

			@if (utils.$allow__responsive) {
				// mobile & hover only
				@media (max-width: utils.$mediaQuerie__tablet) {
					table.#{utils.$layout__table} {
						thead,
						tbody {
							tr {
								th,
								td {
									&.#{utils.$prefix__default}--sticky {
										position: relative;
									}
								}
							}
						}
					}
					@media (hover: none) {
						&:not(.#{utils.$prefix__default}--always) {
							max-width: 100vw;
							height: auto;
							box-sizing: border-box;
							overflow-x: auto;
							overflow-y: hidden;
							padding-right: 0;
							> * {
								overflow: visible;
								margin-left: 0 !important;
								margin-right: 0 !important;
								@include utils.flex-box(
									row,
									nowrap !important,
									flex-start !important,
									flex-start !important,
									inline-flex
								);
								@layer defaults {
									& {
										// @defaults width
										width: auto;
									}
								}
								&.#{utils.$layout__grid}:after {
									width: 1px;
								}
								&:not(:first-child):after {
									content: "";
									display: block;
									width: 1rem;
									height: 1rem;
									flex: 0 0 auto;
								}
								> * {
									flex: 0 0 auto;
									&:last-child {
										margin-right: 0 !important;
									}
								}
							}
						}
					}
				}
			}
		}
	}
}
