/** @format */

/// tag associated
@import "icon";
@import "inputText";
@import "inputCheckbox";
@import "inputSelect";
@import "navList";
@import "navListToggle";

/// non tag associated
@import "text";
@import "emoji";
@import "svgIcon";
@import "avatar";
@import "avatarAureo";
@import "back";
@import "box";
@import "link";
@import "button";
@import "buttonLink";
@import "buttonToggle";
@import "holder";
@import "scroll";
@import "view";
@import "navigationX";
@import "navigationY";

/// There are some components that share common styles

/// navList-group & navListToggle-group shared styles
///
/// @group SharedStyles
ul,
ol {
	&.x-nList-group,
	&.x-nListToggle-group {
		overflow: hidden;

		/// flow direction
		///
		/// @group Modifiers
		&.m__flow-row {
			@include flexbox(row, nowrap, flex-start, center);
			> li:not(:last-child) {
				margin-right: 1rem;
			}
		}
		/// default flow
		&:not([class*="__flow"]),
		&.m__flow-column {
			@include flexbox(column, nowrap, flex-start, stretch);
			> li:not(:last-child) {
				margin-bottom: 0.5rem;
			}
		}

		> li {
			.x-link,
			.x-btnLink {
				white-space: normal;
				line-height: $lineHeightMedium;
			}
		}
	}
}

/// avatar & avatarAureo shared styles
///
/// @group SharedStyles
.x-avatar,
.x-avatarAureo {
	display: block;
	overflow: hidden;
	flex: 0 0 auto;
	transition: all 0.1s ease-out;
	&:not([class*="__bgColor"]) {
		background-color: color(light);
	}

	/// avatar size
	///
	/// @group Modifiers
	&.m__size-lg {
		border-radius: 1.667rem;
		&.m__bdr,
		&.m__border {
			border-width: 4px;
		}
	}
	&.m__size-md {
		border-radius: 1.333rem;
		&.m__bdr,
		&.m__border {
			border-width: 3px;
		}
	}
	/// default size
	&.m__size,
	&.m__size-sm,
	&:not([class*="__size"]) {
		border-radius: 1rem;
		&.m__bdr,
		&.m__border {
			border-width: 2px;
		}
	}

	/// avatar border
	///
	/// @group Modifiers
	&.m__bdr,
	&.m__border {
		border-style: solid;
		box-sizing: border-box;
		&:not([class*="__bdrColor"]) {
			border-color: color(light);
		}
	}

	img {
		object-fit: cover;
		object-position: 50% 50%;
		transition: all 0.1s ease-out;
	}
}
a.x-avatar,
a.x-avatarAureo {
	&:hover,
	&.is__active,
	&.is__routeExact {
		// box-shadow: 1px 1px 3px color(dark, 0.2);
		img {
			opacity: 0.7;
		}
	}
	/// avatar border
	///
	/// @group Modifiers
	&.m__bdr,
	&.m__border {
		&:not(:hover),
		&:not(.is__active),
		&:not(.is__routeExact) {
			border-color: transparent;
		}
	}
}

/// icon & svgIcon
///
/// @group SharedStyles
.x-svg,
i.x-icon {
	width: auto;

	/// icon margin
	///
	/// @group Modifiers
	&.m__m,
	&.m__margin {
		&:not(:first-child) {
			margin-left: 0.4em;
		}
		&:not(:last-child) {
			margin-right: 0.4em;
		}
	}

	/// icon size
	///
	/// @group Modifiers
	&.m__size,
	&.m__size-normal,
	&:not([class*="__size"]) {
		height: 1rem;
		font-size: 1rem;
	}
	@for $i from 2 through 10 {
		&.m__size-#{$i*5} {
			height: #{$i/3}rem;
			font-size: #{$i/3}rem;
		}
	}
}

/// button defaults & round modifier
///
/// @group SharedStyles
.x-btn,
.x-btnToggle {
	/// this is the default value
	&.m__size,
	&.m__size-normal,
	&:not([class*="__size"]) {
		padding: 0 0.8rem;
		&.m__round {
			width: 2.4rem;
		}
	}

	/// round button
	///
	/// @group Modifiers
	&.m__round {
		padding: 0;
		i.x-icon {
			margin: 0 !important;
			+ span {
				display: none;
			}
		}
	}
}

/// icon behavior
///
/// @group SharedStyles
.x-btn,
.x-btnToggle,
.x-link {
	:not(.x-icon):first-child ~ i.x-icon {
		margin-left: 0.4em;
	}
	i.x-icon ~ :not(.x-icon) {
		margin-left: 0.4em;
	}
}

/// content alignment
///
/// @group SharedStyles
.x-btn,
.x-btnY,
.x-btnLink,
.x-btnToggle {
	flex: 0 0 auto;
	text-align: center;
	@include flexbox(row, nowrap, center, center, inline-flex);
}

/// buttons & select themes
///
/// @group SharedStyles
.x-btn,
.x-btnY,
.x-btnLink,
select.x-inSelect {
	/// first value is the bgColor
	/// second value is the textColor
	///
	/// @group Unions
	&.u__tm-light {
		&-secondary {
			color: color(secondary);
			&:hover,
			&:focus {
				border-color: color(secondary, 0.3);
				color: color(secondary, 0.7);
			}
		}
		&-dark {
			color: color(dark, 0.7);
			&:hover,
			&:focus {
				border-color: color(dark, 0.3);
				color: color(dark, 0.3);
			}
		}
		&-primaryAlt {
			color: color(primaryAlt);
			&:hover,
			&:focus {
				border-color: color(primaryAlt, 0.3);
				color: color(primaryAlt, 0.7);
			}
		}
		&-primary {
			color: color(primary);
			background-color: color(light);
			&:hover,
			&:focus {
				border-color: color(primary, 0.3);
				color: color(primary, 0.7);
			}
			&:not(.is__active):not(.is__route) {
				text-shadow: 0 0 1px color(dark, 0.2);
			}
		}
		&-secondary,
		&-dark,
		&-primaryAlt {
			background-color: color(light);
			&.is__active,
			&.is__route:not(.is__routeExact) {
				&:hover,
				&:focus {
					border-color: color(light, 0.7);
					color: color(light, 0.7);
				}
			}
			&.is__routeExact,
			&.is__route,
			&.is__active {
				border-color: color(light);
				color: color(light);
			}
			&:disabled,
			&[disabled] {
				border-color: color(light, 0.3);
				color: color(light, 0.3);
			}
		}
	}
	&.u__tm-primary-light {
		background-color: color(primary);
		color: color(light);
		&:hover,
		&:focus {
			border-color: color(light, 0.3);
			color: color(light, 0.7);
		}
		&.is__active {
			&:hover,
			&:focus {
				border-color: color(primary, 0.7);
				color: color(primary, 0.7);
			}
		}
		&.is__routeExact,
		&.is__active {
			border-color: color(primary);
			color: color(primary);
		}
		&:disabled,
		&[disabled] {
			border-color: color(primary, 0.3);
			color: color(primary, 0.3);
		}
	}
	&.u__tm-primaryAlt-primary {
		background-color: color(primaryAlt);
		color: color(primary);
		&:hover,
		&:focus {
			border-color: color(primary, 0.3);
			color: color(primary, 0.7);
		}
		&.is__active {
			&:hover,
			&:focus {
				border-color: color(primaryAlt, 0.7);
				color: color(primaryAlt, 0.7);
			}
		}
		&.is__routeExact,
		&.is__active {
			border-color: color(primaryAlt);
			color: color(primaryAlt);
		}
		&:disabled,
		&[disabled] {
			border-color: color(primaryAlt, 0.3);
			color: color(primaryAlt, 0.3);
		}
	}
	/// default theme
	&:not([class*="__tm"]),
	&.u__tm-secondary-light {
		background-color: color(secondary);
		color: color(light);

		&:hover,
		&:focus {
			border-color: color(light, 0.3);
			color: color(light, 0.7);
		}
		&.is__active,
		&.is__route:not(.is__routeExact) {
			border-color: color(secondary);
			color: color(secondary);
			&:hover,
			&:focus {
				border-color: color(secondary, 0.7);
				color: color(secondary, 0.7);
			}
		}
		&.is__routeExact {
			border-color: color(dark, 0.7);
			color: color(dark, 0.7);
		}
		&:disabled,
		&[disabled] {
			border-color: color(secondary, 0.3);
			color: color(secondary, 0.3);
		}
	}

	/// OVERRIDE: dejar en el final
	&.is__routeExact,
	&.is__route,
	&.is__active,
	&:disabled,
	&[disabled] {
		background-color: transparent;
	}
}

/// default size
///
/// @group SharedStyles
.x-btn,
.x-btnToggle,
.x-inTxt,
select.x-inSelect {
	&.m__size,
	&.m__size-normal,
	&:not([class*="__size"]) {
		/// this is the default value
		height: 2.4rem;
		border-radius: 1rem;
		border-width: 2px;
	}
}

/// capitalize
///
/// @group SharedStyles
.x-btn,
.x-btnLink,
.x-btnToggle,
.x-link,
select.x-inSelect {
	&,
	> :not(.x-icon) {
		&::first-letter {
			text-transform: capitalize;
		}
	}
}

/// disabled behavior
///
/// @group SharedStyles
.x-btn,
.x-btnLink,
.x-btnToggle,
.x-inTxt,
.x-link,
select.x-inSelect {
	&:disabled,
	&[disabled] {
		opacity: 0.3;
		pointer-events: none;
	}
}

/// basic styling
///
/// @group SharedStyles
.x-btn,
.x-btnY,
.x-btnLink,
.x-btnToggle,
.x-inTxt,
.x-link,
select.x-inSelect {
	white-space: nowrap;
	border-color: transparent;
	border-style: solid;
	text-shadow: none;
	box-sizing: border-box;
	&:not([class*="__txtSize"]) {
		font-size: 1em;
	}
}

/// LOOPS
@each $name, $size in $fontSizes {
	/// button & buttonToggle shared styles
	///
	/// @group SharedStyles
	.x-btn,
	.x-btnToggle {
		&.m__size-#{$name} {
			padding: 0 #{$size * 0.8};
			&.m__round {
				width: $size * 2.6;
			}
		}
	}

	/// text, select, button & buttonToggle shared styles
	///
	/// @group SharedStyles
	.x-btn,
	.x-btnToggle,
	.x-inTxt,
	select.x-inSelect {
		&.m__size-#{$name} {
			height: $size * 2.6;
			border-radius: $size;
			border-width: calc(2px + (#{$size} / 18));
		}
	}
}
